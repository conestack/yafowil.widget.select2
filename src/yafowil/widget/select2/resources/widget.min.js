!function(t,i){"use strict";class e{static initialize(t){i(".select2",t).each((function(t){let n=i(this),l=n.data();new e(n,l)}))}constructor(t,i){this.elem=t;let e=this.init_options(i);try{this.elem.select2(e)}catch(t){console.log("Failed to initialize select2: "+t)}}init_options(t){for(let i in t){let e=t[i],n=this.extract_value(t[e]);t[e]=n}return t.ajaxurl&&(t.ajax={url:t.ajaxurl,dataType:"json",data:function(t,i){return{q:t}},results:function(i,e,n){return t.tags&&!i.length&&i.push({id:n.term,text:n.term}),{results:i}}},t.initSelection=function(e,n){let l=e.val();if(!l)return;let o=e.data("vocabulary");function a(t){return o&&o[t]?o[t]:t}if(t.multiple){let t=[];i(e.val().split(",")).each((function(){t.push({id:this,text:a(this)})})),n(t)}else n({id:l,text:a(l)})}),t}extract_value(t){if("string"==typeof t&&!t.indexOf("javascript:")){if(!(t=t.substring(11,t.length).split(".")).length)throw"No function defined";let i=window;for(let e in t){let n=t[e];if(void 0===i[n])throw"'"+n+"' not found";i=i[n]}t=i}return t}}i((function(){void 0!==window.ts?ts.ajax.register(e.initialize,!0):e.initialize()})),t.Select2Widget=e,Object.defineProperty(t,"__esModule",{value:!0}),void 0===window.yafowil&&(window.yafowil={}),window.yafowil.select2=t}({},jQuery);
//# sourceMappingURL=widget.min.js.map
